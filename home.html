<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerityVault</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Existing styles */
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #fff;
            color: #093768;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

      
        header {
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
        }

        .logo h1 {
            font-size: 30px;
            color: #0a5c6f;
            text-align: center;
        }

        .nav-links ul {
            list-style-type: none;
            display: flex;
            align-items: center;
        }

        .nav-links ul li {
            margin-right: 20px;
        }

        .nav-links ul li a {
            text-decoration: none;
            color: #06758e;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .nav-links ul li a:hover {
            color: #007bff;
        }

        .menu-icon {
            display: none;
            flex-direction: column;
            cursor: pointer;
            margin-top: 70%;
            margin-left: 100%;
        }

        .menu-icon div {
            width: 25px;
            height: 3px;
            background-color: #06758e;
            margin: 4px 0;
            transition: 0.4s;
        }
        /* Hero section */
        #hero {
            background: linear-gradient(to bottom, #061c33, #058891);
            color: #fff;
            text-align: center;
            padding: 80px 0;
        }

        #hero h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        #hero p {
            font-size: 18px;
            margin-bottom: 30px;
        }

        .cta-button {
            display: inline-block;
            background-color: #fff;
            color: #007bff;
            border: 2px solid #007bff;
            padding: 10px 20px;
            text-decoration: none;
            font-weight: bold;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .cta-button:hover {
            background-color: #007bff;
            color: #fff;
        }

        /* Sections */
        section {
            padding: 80px 0;
        }

        section h2 {
            font-size: 30px;
            margin-bottom: 30px;
        }
        #features{
            background-color: #f0f8ff;
        }

        .features {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin: 30px;
        }

        .feature {
            flex: 1;
            margin: 0 24px;
            margin-bottom: 30px;
            min-width: 280px; /* ensures reasonable size on smaller screens */
        }

        .feature h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Footer */
        footer {
            background-color: #000000;
            color: #fff;
            text-align: center;
            padding: 20px 0;
        }

        footer p {
            font-size: 14px;
        }
        #contact{
            background: linear-gradient(to bottom, #061c33, #058891);
            color: #fff;
            text-align: center;
            padding: 20px 0;
        }
        #subscribeForm {
            margin-top: 70px;
        }

        input[type="email"] {
            background-color: #b2bfd4; /* Background color */
            border: none; /* No border by default */
            border-radius: 4px;
            box-sizing: border-box;
            transition: border 0.3s;
            height: 34px;
            margin-left: 14px;
        }

        input[type="email"]:hover,
        input[type="email"]:focus {
            border: 1px solid #ccc;
            background-color: #f8f8f8; /* Add border on hover or focus */
        }

        .submitButton {
            display: inline-block;
            background-color: #fff;
            color: #007bff;
            border: 2px solid #007bff;
            padding: 10px 20px;
            text-decoration: none;
            font-weight: bold;
            border-radius: 5px;
            margin-left: 20px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .submitButton:hover,
        .submitButton:focus {
            background-color: #007bff;
            color: #fff;
        }

    /* Responsive */
    @media (max-width: 768px) {
        #header{
            display: flex;
            flex-direction: row;
            justify-content: space-between; 

        }
        .logo h1{
            text-align: left;
            left: 0%;
        }
            .nav-links ul {
                flex-direction: column;
                display: none;
                width: 100%;
                text-align: center;
            }

            .nav-links ul li {
                margin: 10px 0;
            }

            .menu-icon {
                display: block;
                align-self: self-end;
            }

            .nav-links.active ul {
                display: flex;
            }

            .nav-links.active .menu-icon div:nth-child(1) {
                transform: rotate(-45deg) translate(-5px, 6px);
            }

            .nav-links.active .menu-icon div:nth-child(2) {
                opacity: 0;
            }

            .nav-links.active .menu-icon div:nth-child(3) {
                transform: rotate(45deg) translate(-5px, -6px);
            }
        }


        #apiEndpoints {
            background-color: #f0f8ff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .endpoint {
            margin-bottom: 40px;
        }

        .endpoint h3 {
            font-size: 20px;
            margin-bottom: 5px;
            color: #0e8494;
        }

        .endpoint p {
            color: #0e0e0e;
            margin-bottom: 40px;
        }

        .tab-buttons {
            display: flex;
            justify-content: space-around;
            margin-bottom: 10px;
        }

        .tab-buttons button {
            padding: 10px 20px;
            border: none;
            background: linear-gradient(to bottom, #451ce9, #f14f83);
            color: #fff;
            cursor: pointer;
            border-radius: 5px;
        }

        .tab-buttons button.active {
            background: linear-gradient(to bottom, #061c33, #058891);
        }

        .tab-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        pre {
            background-color: #000000;
            color: #fff;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="container" id="header">
                <div class="logo">
                    <h1>VerityVault</h1>
                </div>
                <div class="nav-links">
                    <div class="menu-icon">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <ul>
                        <li><a href="/">About</a></li>
                        <li><a href="/verity">Verify</a></li>
                        <li><a href="#apiEndpoints">API</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>


    <section id="hero">
        <div class="container">
            <h1>Welcome to VerityVault</h1>
            <p>A truth meter of some sort-demo website </p>
            <a href="/verity" class="cta-button">Test it Now</a>
        </div>
    </section>

    <section id="features">
        <div class="container">
            <h2>Key Features</h2>
            <div class="features">
                <div class="feature">
                    <h3>Fallacy Detection</h3>
                    <p>Automatically identify logical fallacies in text to ensure arguments are sound.</p>
                </div>
                <div class="feature">
                    <h3>Guiding Critical Questions</h3>
                    <p>Generate critical questions to analyze and assess the validity of statements and arguments.</p>
                </div>
                <div class="feature">
                    <h3>Fallacy Detection with Explanation</h3>
                    <p>Provide detailed explanations for detected fallacies to help understand and improve argumentation.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <h2>Subscribe to Our API</h2>
            <p>Please note that if you have never subscribed before, you will first receive an email to confirm that you want us to have your email. After that, you will need to send your email again to receive an API key.</p>
            <form id="subscribeForm">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <button type="submit" class="submitButton">Subscribe</button>
            </form>
        </div>
    </section>

    <section id="apiEndpoints">
        <div class="container">
            <h2>API Endpoints</h2>
            <div id="endpointsList"></div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2024 VerityVault All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.getElementById('subscribeForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            const email = document.getElementById('email').value;
            const response = await fetch('https://it8eegjy25.execute-api.us-east-1.amazonaws.com/prod/subscription', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                "body": `{"email": "${email}"}`
                    }),
                });

            if (response.ok) {
                const result = await response.json();
                alert('Successfully Received your Email Address. Check your email for the API key'); // Show success message
            } else {
                alert('Failed to subscribe. Please try again.'); // Handle error
            }
        });

        const apiEndpoints = {
            coarsepredict: 'https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/coarsepredict',
            finepredict: 'https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/finepredict',
            explaincoarse: 'https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/explaincoarse',
            explainfine: 'https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/explainfine',
            criticalquestions: 'https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/criticalquestions',
        };

        const endpointDescriptions = {
            coarsepredict: 'Endpoint for making coarse-grained predictions.',
            finepredict: 'Endpoint for making fine-grained predictions.',
            explaincoarse: 'Endpoint for getting explanations for coarse-grained predictions.',
            explainfine: 'Endpoint for getting explanations for fine-grained predictions.',
            criticalquestions: 'Endpoint for generating critical questions related to the predictions.',
        };

        const endpointCodeExamples = {
            coarsepredict: {
                code: `fetch('https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/coarsepredict', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'YOUR_API_KEY'
    },
    body: JSON.stringify({
        input: 'Some tall guys recently vandalized the school. Tall people were very irresponsible'
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));`,
                response: `{
    "predictedClass": "component fallacy",
    "classScores": {
        "fallacy of relevance": 0.0006162320421482277,
        "component fallacy": 0.9993121366442135,
        "equivocation": 0.00007163131363826536
    }
}`
            },
            finepredict: {
                code: `fetch('https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/finepredict', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'YOUR_API_KEY'
    },
    body: JSON.stringify({
        input: 'Some tall guys recently vandalized the school. Tall people were very irresponsible'
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));`,
                response: `{
    "predictedClass": "faulty generalization",
    "classScores": {
        "faulty generalization": 0.9982896913339335,
        "false causality": 0.000022595394776702156,
        "circular reasoning": 0.0002789412466861413,
        "ad populum": 0.00008227868501273032,
        "ad hominem": 0.0006619473169349598,
        "fallacy of logic": 0.00009969990115739687,
        "appeal to emotion": 0.0001241002935120615,
        "false dilemma": 0.00013100246908312831,
        "equivocation": 0.00004185398971153861,
        "fallacy of extension": 0.00015308605916724324,
        "fallacy of relevance": 0.00006353861717952632,
        "fallacy of credibility": 0.00004678631335539721,
        "intentional": 0.0000044783794893982
    }
}`
            },
            explaincoarse: {
                code: `fetch('https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/explaincoarse', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'YOUR_API_KEY'
    },
    body: JSON.stringify({
        input: 'Some tall guys recently vandalized the school. Tall people were very irresponsible'
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));`,
                response: `{
    "predictedClass": "component fallacy",
    "classScores": {
        "fallacy of relevance": 0.0006162320421482277,
        "component fallacy": 0.9993121366442135,
        "equivocation": 0.00007163131363826536
    },
    "explanation": "This input fits into the \"component fallacy\" category because it involves errors in the logical structure of the argument itself. In this case, the argument is based on a generalization about tall people being irresponsible due to the actions of some tall guys who vandalized the school. However, this argument lacks sufficient and strong premises to support the conclusion that all tall people are irresponsible. The connection between the premises and the conclusion is weak, making it a component fallacy.\n\nThe scores for this input are: \n- fallacy of relevance: 0.00, indicating that the argument's premises are not logically irrelevant to the conclusion. \n- component fallacy: 1.00, suggesting that the logical structure of the argument is flawed and the supporting premises are weak.\n- equivocation: 0.00, meaning that there is no misuse of words with different meanings leading to a false conclusion.\n\nOverall, the argument in the input is considered a component fallacy because it lacks a strong logical structure despite providing seemingly supportive premises, ultimately failing to provide valid support for the conclusion drawn."
}`
            },
            explainfine: {
                code: `fetch('https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/explainfine', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'YOUR_API_KEY'
    },
    body: JSON.stringify({
        input: 'Some tall guys recently vandalized the school. Tall people were very irresponsible'
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));`,
                response: `{
    "predictedClass": "faulty generalization",
    "classScores": {
        "faulty generalization": 0.9982896913339335,
        "false causality": 0.000022595394776702156,
        "circular reasoning": 0.0002789412466861413,
        "ad populum": 0.00008227868501273032,
        "ad hominem": 0.0006619473169349598,
        "fallacy of logic": 0.00009969990115739687,
        "appeal to emotion": 0.0001241002935120615,
        "false dilemma": 0.00013100246908312831,
        "equivocation": 0.00004185398971153861,
        "fallacy of extension": 0.00015308605916724324,
        "fallacy of relevance": 0.00006353861717952632,
        "fallacy of credibility": 0.00004678631335539721,
        "intentional": 0.0000044783794893982
    },
    "explanation": "The input: \"Some tall guys recently vandalized the school. Tall people were very irresponsible\" fits into the \"faulty generalization\" category because the conclusion that all tall people are irresponsible is drawn from a small sample of tall guys who vandalized the school. This conclusion is not representative of all tall individuals and is an overgeneralization based on limited evidence.\n\nHere is a brief description of each class with a positive score in relation to the input text:\n\n- **faulty generalization:** A fallacy where a conclusion is drawn from a sample that is too small or not representative. In this case, the statement that all tall people are irresponsible is based on the actions of a few individuals and is not reflective of all tall individuals.\n  \n- **false causality:** A fallacy where a cause is incorrectly identified for an effect. This class does not apply directly to the input text as it doesn't involve misattributing a cause to an effect.\n\n- **circular reasoning:** A fallacy where the conclusion is included in the premise. This class does not apply directly to the input text as there is no circular reasoning evident in the provided statement.\n  \n- **ad populum:** A fallacy that concludes a proposition is true because many or most people believe it. This class does not apply directly to the input text as the argument is not based on popular belief.\n  \n- **ad hominem:** A fallacy that attacks the person making the argument rather than the argument itself. This class does not apply directly to the input text as it doesn't involve attacking an individual's character in the argument presented.\n  \n- **fallacy of logic:** A general category for errors in reasoning. This class encompasses various types of logical fallacies, including faulty generalization, which is applicable in this case.\n  \n- **appeal to emotion:** A fallacy where an argument is made by manipulating emotions rather than using valid reasoning. This class does not apply directly to the input text as emotions are not explicitly being used to manipulate the argument.\n  \n- **false dilemma:** A fallacy that presents only two options when there are actually more. This class does not apply directly to the input text as there is no false dilemma presented in the statement.\n  \n- **equivocation:** A fallacy where a word is used with different meanings in different parts of an argument. This class does not apply directly to the input text as there is no ambiguity in the meaning of the words used.\n  \n- **fallacy of extension:** A fallacy that extends an argument to an unrelated or extreme point. This class does not apply directly to the input text as the argument remains focused on the behavior of tall people.\n  \n- **fallacy of relevance:** A fallacy where the premises are not logically relevant to the conclusion. This class does not apply directly to the input text as the conclusion drawn is related to the premise, albeit in a faulty manner.\n  \n- **fallacy of credibility:** A fallacy that occurs when the credibility of the source is attacked rather than the argument. This class does not apply directly to the input text as no attack on the credibility of the source is evident in the statement.\n  \n- **intentional:** A fallacy where intentions are presumed without evidence. This class does not apply directly to the input text as it focuses on attributing intentions without basis, which is not explicitly present in the statement."
}`
            },
            criticalquestions: {
                code: `fetch('https://pwuzv2ow40.execute-api.us-east-1.amazonaws.com/prod/criticalquestions', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'x-api-key': 'YOUR_API_KEY'
    },
    body: JSON.stringify({
        message: 'Some tall guys recently vandalized the school. Tall people were very irresponsible'
    })
}).then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));`,
                response: `{
    "analysisResult": {
        "index": 0,
        "message": {
            "role": "assistant",
            "content": "To critically analyze this message, you should ask yourself the following questions:\n\n1. What evidence is provided to support the claim that tall guys vandalized the school?\n2. Are there any biases or assumptions being made about tall people based on the actions of a few individuals?\n3. Is there a correlation between height and irresponsibility being implied in this message?\n4. Are there any other factors or individuals involved in the vandalism that are being overlooked?\n5. How does the language used in the message influence the perception of tall people and responsibility?\n6. Are there any stereotypes or preconceptions about tall people that may be shaping the interpretation of the situation?\n7. Could there be alternative explanations or perspectives that should be considered when evaluating this message?"
        },
        "logprobs": null,
        "finish_reason": "stop"
    }
}`
            }
        };

        function displayEndpoints() {
            const endpointsList = document.getElementById('endpointsList');
            for (const [key, url] of Object.entries(apiEndpoints)) {
                const endpointDiv = document.createElement('div');
                endpointDiv.classList.add('endpoint');

                const endpointTitle = document.createElement('h3');
                endpointTitle.textContent = key;
                endpointDiv.appendChild(endpointTitle);

                const endpointUrl = document.createElement('p');
                endpointUrl.textContent = `URL: ${url}`;
                endpointDiv.appendChild(endpointUrl);

                const endpointDescription = document.createElement('p');
                endpointDescription.textContent = `Description: ${endpointDescriptions[key]}`;
                endpointDiv.appendChild(endpointDescription);

                const tabButtons = document.createElement('div');
                tabButtons.classList.add('tab-buttons');

                const codeButton = document.createElement('button');
                codeButton.textContent = 'Code';
                codeButton.classList.add('active');
                tabButtons.appendChild(codeButton);

                const responseButton = document.createElement('button');
                responseButton.textContent = 'Response';
                tabButtons.appendChild(responseButton);

                endpointDiv.appendChild(tabButtons);

                const codeContent = document.createElement('div');
                codeContent.classList.add('tab-content', 'active');
                codeContent.innerHTML = `<pre>${endpointCodeExamples[key].code}</pre>`;
                endpointDiv.appendChild(codeContent);

                const responseContent = document.createElement('div');
                responseContent.classList.add('tab-content');
                responseContent.innerHTML = `<pre>${endpointCodeExamples[key].response}</pre>`;
                endpointDiv.appendChild(responseContent);

                codeButton.addEventListener('click', () => {
                    codeButton.classList.add('active');
                    responseButton.classList.remove('active');
                    codeContent.classList.add('active');
                    responseContent.classList.remove('active');
                });

                responseButton.addEventListener('click', () => {
                    responseButton.classList.add('active');
                    codeButton.classList.remove('active');
                    responseContent.classList.add('active');
                    codeContent.classList.remove('active');
                });

                endpointsList.appendChild(endpointDiv);
            }
        }
        document.querySelector('.menu-icon').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        displayEndpoints();
    </script>
</body>
</html>
